# Thread_Concurrency-
자바의 스레드와 동시성에 대한 이론 및 코드
# 💡 프로세스, 스레드, 멀티태스킹 정리

## 🧠 핵심 개념

### 🔹 프로세스 (Process)
- **정의:** 실행 환경과 자원을 제공하는 **컨테이너**
- **특징:** 각각의 프로세스는 독립적인 메모리 공간을 가짐
- **스레드 간의 관계:** 한 프로세스 안에 여러 스레드가 존재하며, **프로세스에 할당된 메모리를 공유 가능**

#### 📘 예시
> **프로세스:** 워드프로세스  
> - **스레드 1:** 문서 자동 저장  
> - **스레드 2:** 문서 편집  
> - **스레드 3:** 맞춤법 검사

---

### 🔹 스레드 (Thread)
- 프로세스 내부에서 **실제 작업을 수행하는 실행 단위**
- 같은 프로세스 내의 스레드들은 **공유 메모리**를 사용하여 효율적인 통신 가능
- 단, **동기화 문제(교착 상태 등)** 에 주의 필요

---

### 🔹 멀티태스킹 (Multitasking)
- CPU가 여러 작업(프로세스)을 **빠르게 번갈아 가며 실행**하는 방식
- 사람 눈에는 여러 작업이 동시에 수행되는 것처럼 보임

---

### 🔹 멀티프로세싱 (Multiprocessing)
- **CPU 코어가 여러 개** 있을 때, 각 코어가 **서로 다른 프로세스나 스레드**를 실제로 동시에 실행하는 방식  
- 진정한 병렬(Parallel) 실행이 가능함

---

## ⚙️ 스케줄링 (Scheduling)

### 🔸 스케줄링 큐 (Scheduling Queue)
- **운영체제 내부**에 존재
- 어떤 순서로 프로세스나 스레드를 CPU에 할당할지 결정
- CPU는 **스케줄 큐에 있는 작업을 순서대로 가져와 실행**

### 🔸 멀티코어 스케줄링
- CPU 코어가 2개 이상이면, 각 코어가 스케줄 큐의 다른 스레드를 **동시에 실행 가능**
- 즉, **물리적으로 병렬 처리**가 이루어짐

---

## 🧩 컨텍스트 스위칭 (Context Switching)
- CPU가 **현재 실행 중인 프로세스(또는 스레드)** 의 상태를 저장하고  
  **다른 프로세스(또는 스레드)** 로 전환하는 과정  
- 스위칭 시에는 레지스터, 스택 포인터 등의 정보를 저장/복원함
- 너무 잦은 스위칭은 **성능 저하**를 초래할 수 있음

---

## ⚡ 정리 요약

| 구분 | 설명 |
|------|------|
| **프로세스(Process)** | 실행 환경과 자원을 가진 컨테이너 |
| **스레드(Thread)** | 프로세스 내 작업 단위, 메모리 공유 가능 |
| **멀티태스킹(Multitasking)** | CPU가 여러 작업을 빠르게 전환 실행 |
| **멀티프로세싱(Multiprocessing)** | 여러 CPU 코어가 동시에 실행 |
| **스케줄링(Scheduling)** | 실행 순서 및 자원 배분 관리 |
| **컨텍스트 스위칭(Context Switching)** | CPU가 작업을 전환하는 과정 |

---

📚 **참고:**  
- *프로세서(Processor)* 는 **물리적인 CPU 하드웨어**  
- *프로세스(Process)* 는 **운영체제 위에서 실행되는 프로그램 단위**

---

### 🔹 컨텍스트 스위칭 (Context Switching)
- **정의:** CPU가 작업(스레드나 프로세스)을 전환할 때 발생하는 비용  
- **원리:** 작업 1의 실행 상태(레지스터, 스택 포인터 등)를 저장하고,  
  작업 2의 상태를 복원하는 과정에서 오버헤드가 발생  
- **결과:** 너무 자주 전환하면 오히려 전체 성능이 저하될 수 있음

#### 📘 예시
> 예를 들어,  
> - `1~5000` 범위 계산 후 `5000~10000` 계산 결과를 합치는 것보다  
> - `1~10000`까지 한 번에 계산하는 것이 더 효율적일 수 있음  
> ➜ 이유: **두 작업을 분리하면 컨텍스트 스위칭 비용이 추가로 발생하기 때문**

---

### 🔹 스레드 작업 유형 (Thread Workload Types)

| 유형 | 설명 | 예시 |
|------|------|------|
| **CPU Bound Task** | CPU 연산 중심의 작업. 연산, 암호화, 이미지 처리 등 | 데이터 압축, 수학 계산 |
| **I/O Bound Task** | 외부 입출력(I/O) 대기 시간이 많은 작업 | DB 조회, 파일 읽기, 네트워크 요청 |

> ⚡ 대부분의 실무 자바 웹 애플리케이션은 **I/O Bound 작업**이 훨씬 많습니다.  
> 예: 사용자의 입력을 기다리거나, DB에서 데이터를 불러오는 과정 등

---

### 🔹 자바 웹 애플리케이션과 스레드 구조

- 일반적인 자바 웹 서버는 **사용자 요청 1개당 1개의 스레드**가 사용됨  
- 동시에 4명의 사용자가 요청을 보내면, 서버는 **4개의 스레드**를 생성하여 병렬로 처리

```text
사용자 1 요청 → Thread-1  
사용자 2 요청 → Thread-2  
사용자 3 요청 → Thread-3  
사용자 4 요청 → Thread-4


